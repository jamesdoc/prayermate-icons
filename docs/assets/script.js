(()=>{var se=Object.create;var X=Object.defineProperty;var fe=Object.getOwnPropertyDescriptor;var he=Object.getOwnPropertyNames;var de=Object.getPrototypeOf,me=Object.prototype.hasOwnProperty;var ge=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var ve=(o,e,m,D)=>{if(e&&typeof e=="object"||typeof e=="function")for(let L of he(e))!me.call(o,L)&&L!==m&&X(o,L,{get:()=>e[L],enumerable:!(D=fe(e,L))||D.enumerable});return o};var pe=(o,e,m)=>(m=o!=null?se(de(o)):{},ve(e||!o||!o.__esModule?X(m,"default",{value:o,enumerable:!0}):m,o));var W=ge((G,O)=>{(function(o){"use strict";var e=ae(),m=ce(),D=ue(),L=le(),V={imagePlaceholder:void 0,cacheBust:!1},C={toSvg:N,toPng:Z,toJpeg:ee,toBlob:te,toPixelData:Y,impl:{fontFaces:D,images:L,util:e,inliner:m,options:{}}};typeof O<"u"?O.exports=C:o.domtoimage=C;function N(r,n){return n=n||{},ne(n),Promise.resolve(r).then(function(c){return $(c,n.filter,!0)}).then(re).then(oe).then(i).then(function(c){return ie(c,n.width||e.width(r),n.height||e.height(r))});function i(c){return n.bgcolor&&(c.style.backgroundColor=n.bgcolor),n.width&&(c.style.width=n.width+"px"),n.height&&(c.style.height=n.height+"px"),n.style&&Object.keys(n.style).forEach(function(f){c.style[f]=n.style[f]}),c}}function Y(r,n){return B(r,n||{}).then(function(i){return i.getContext("2d").getImageData(0,0,e.width(r),e.height(r)).data})}function Z(r,n){return B(r,n||{}).then(function(i){return i.toDataURL()})}function ee(r,n){return n=n||{},B(r,n).then(function(i){return i.toDataURL("image/jpeg",n.quality||1)})}function te(r,n){return B(r,n||{}).then(e.canvasToBlob)}function ne(r){typeof r.imagePlaceholder>"u"?C.impl.options.imagePlaceholder=V.imagePlaceholder:C.impl.options.imagePlaceholder=r.imagePlaceholder,typeof r.cacheBust>"u"?C.impl.options.cacheBust=V.cacheBust:C.impl.options.cacheBust=r.cacheBust}function B(r,n){return N(r,n).then(e.makeImage).then(e.delay(100)).then(function(c){var f=i(r);return f.getContext("2d").drawImage(c,0,0),f});function i(c){var f=document.createElement("canvas");if(f.width=n.width||e.width(c),f.height=n.height||e.height(c),n.bgcolor){var s=f.getContext("2d");s.fillStyle=n.bgcolor,s.fillRect(0,0,f.width,f.height)}return f}}function $(r,n,i){if(!i&&n&&!n(r))return Promise.resolve();return Promise.resolve(r).then(c).then(function(a){return f(r,a,n)}).then(function(a){return s(r,a)});function c(a){return a instanceof HTMLCanvasElement?e.makeImage(a.toDataURL()):a.cloneNode(!1)}function f(a,u,y){var E=a.childNodes;if(E.length===0)return Promise.resolve(u);return g(u,e.asArray(E),y).then(function(){return u});function g(I,w,v){var P=Promise.resolve();return w.forEach(function(U){P=P.then(function(){return $(U,v)}).then(function(b){b&&I.appendChild(b)})}),P}}function s(a,u){if(!(u instanceof Element))return u;return Promise.resolve().then(y).then(E).then(g).then(I).then(function(){return u});function y(){w(window.getComputedStyle(a),u.style);function w(v,P){v.cssText?P.cssText=v.cssText:U(v,P);function U(b,x){e.asArray(b).forEach(function(t){x.setProperty(t,b.getPropertyValue(t),b.getPropertyPriority(t))})}}}function E(){[":before",":after"].forEach(function(v){w(v)});function w(v){var P=window.getComputedStyle(a,v),U=P.getPropertyValue("content");if(U===""||U==="none")return;var b=e.uid();u.className=u.className+" "+b;var x=document.createElement("style");x.appendChild(t(b,v,P)),u.appendChild(x);function t(l,d,h){var p="."+l+":"+d,A=h.cssText?H(h):M(h);return document.createTextNode(p+"{"+A+"}");function H(S){var k=S.getPropertyValue("content");return S.cssText+" content: "+k+";"}function M(S){return e.asArray(S).map(k).join("; ")+";";function k(j){return j+": "+S.getPropertyValue(j)+(S.getPropertyPriority(j)?" !important":"")}}}}}function g(){a instanceof HTMLTextAreaElement&&(u.innerHTML=a.value),a instanceof HTMLInputElement&&u.setAttribute("value",a.value)}function I(){u instanceof SVGElement&&(u.setAttribute("xmlns","http://www.w3.org/2000/svg"),u instanceof SVGRectElement&&["width","height"].forEach(function(w){var v=u.getAttribute(w);v&&u.style.setProperty(w,v)}))}}}function re(r){return D.resolveAll().then(function(n){var i=document.createElement("style");return r.appendChild(i),i.appendChild(document.createTextNode(n)),r})}function oe(r){return L.inlineAll(r).then(function(){return r})}function ie(r,n,i){return Promise.resolve(r).then(function(c){return c.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(c)}).then(e.escapeXhtml).then(function(c){return'<foreignObject x="0" y="0" width="100%" height="100%">'+c+"</foreignObject>"}).then(function(c){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+n+'" height="'+i+'">'+c+"</svg>"}).then(function(c){return"data:image/svg+xml;charset=utf-8,"+c})}function ae(){return{escape:I,parseExtension:n,mimeType:i,dataAsUrl:g,isDataUrl:c,canvasToBlob:s,resolveUrl:a,getAndEncode:E,uid:u(),delay:w,asArray:v,escapeXhtml:P,makeImage:y,width:U,height:b};function r(){var t="application/font-woff",l="image/jpeg";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:l,jpeg:l,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function n(t){var l=/\.([^\.\/]*?)$/g.exec(t);return l?l[1]:""}function i(t){var l=n(t).toLowerCase();return r()[l]||""}function c(t){return t.search(/^(data:)/)!==-1}function f(t){return new Promise(function(l){for(var d=window.atob(t.toDataURL().split(",")[1]),h=d.length,p=new Uint8Array(h),A=0;A<h;A++)p[A]=d.charCodeAt(A);l(new Blob([p],{type:"image/png"}))})}function s(t){return t.toBlob?new Promise(function(l){t.toBlob(l)}):f(t)}function a(t,l){var d=document.implementation.createHTMLDocument(),h=d.createElement("base");d.head.appendChild(h);var p=d.createElement("a");return d.body.appendChild(p),h.href=l,p.href=t,p.href}function u(){var t=0;return function(){return"u"+l()+t++;function l(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function y(t){return new Promise(function(l,d){var h=new Image;h.onload=function(){l(h)},h.onerror=d,h.src=t})}function E(t){var l=3e4;return C.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime()),new Promise(function(d){var h=new XMLHttpRequest;h.onreadystatechange=H,h.ontimeout=M,h.responseType="blob",h.timeout=l,h.open("GET",t,!0),h.send();var p;if(C.impl.options.imagePlaceholder){var A=C.impl.options.imagePlaceholder.split(/,/);A&&A[1]&&(p=A[1])}function H(){if(h.readyState===4){if(h.status!==200){p?d(p):S("cannot fetch resource: "+t+", status: "+h.status);return}var k=new FileReader;k.onloadend=function(){var j=k.result.split(/,/)[1];d(j)},k.readAsDataURL(h.response)}}function M(){p?d(p):S("timeout of "+l+"ms occured while fetching resource: "+t)}function S(k){console.error(k),d("")}})}function g(t,l){return"data:"+l+";base64,"+t}function I(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function w(t){return function(l){return new Promise(function(d){setTimeout(function(){d(l)},t)})}}function v(t){for(var l=[],d=t.length,h=0;h<d;h++)l.push(t[h]);return l}function P(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")}function U(t){var l=x(t,"border-left-width"),d=x(t,"border-right-width");return t.scrollWidth+l+d}function b(t){var l=x(t,"border-top-width"),d=x(t,"border-bottom-width");return t.scrollHeight+l+d}function x(t,l){var d=window.getComputedStyle(t).getPropertyValue(l);return parseFloat(d.replace("px",""))}}function ce(){var r=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:f,shouldProcess:n,impl:{readUrls:i,inline:c}};function n(s){return s.search(r)!==-1}function i(s){for(var a=[],u;(u=r.exec(s))!==null;)a.push(u[1]);return a.filter(function(y){return!e.isDataUrl(y)})}function c(s,a,u,y){return Promise.resolve(a).then(function(g){return u?e.resolveUrl(g,u):g}).then(y||e.getAndEncode).then(function(g){return e.dataAsUrl(g,e.mimeType(a))}).then(function(g){return s.replace(E(a),"$1"+g+"$3")});function E(g){return new RegExp(`(url\\(['"]?)(`+e.escape(g)+`)(['"]?\\))`,"g")}}function f(s,a,u){if(y())return Promise.resolve(s);return Promise.resolve(s).then(i).then(function(E){var g=Promise.resolve(s);return E.forEach(function(I){g=g.then(function(w){return c(w,I,a,u)})}),g});function y(){return!n(s)}}}function ue(){return{resolveAll:r,impl:{readAll:n}};function r(){return n(document).then(function(i){return Promise.all(i.map(function(c){return c.resolve()}))}).then(function(i){return i.join(`
`)})}function n(){return Promise.resolve(e.asArray(document.styleSheets)).then(c).then(i).then(function(s){return s.map(f)});function i(s){return s.filter(function(a){return a.type===CSSRule.FONT_FACE_RULE}).filter(function(a){return m.shouldProcess(a.style.getPropertyValue("src"))})}function c(s){var a=[];return s.forEach(function(u){try{e.asArray(u.cssRules||[]).forEach(a.push.bind(a))}catch(y){console.log("Error while reading CSS rules from "+u.href,y.toString())}}),a}function f(s){return{resolve:function(){var u=(s.parentStyleSheet||{}).href;return m.inlineAll(s.cssText,u)},src:function(){return s.style.getPropertyValue("src")}}}}}function le(){return{inlineAll:n,impl:{newImage:r}};function r(i){return{inline:c};function c(f){return e.isDataUrl(i.src)?Promise.resolve():Promise.resolve(i.src).then(f||e.getAndEncode).then(function(s){return e.dataAsUrl(s,e.mimeType(i.src))}).then(function(s){return new Promise(function(a,u){i.onload=a,i.onerror=u,i.src=s})})}}function n(i){if(!(i instanceof Element))return Promise.resolve(i);return c(i).then(function(){return i instanceof HTMLImageElement?r(i).inline():Promise.all(e.asArray(i.childNodes).map(function(f){return n(f)}))});function c(f){var s=f.style.getPropertyValue("background");return s?m.inlineAll(s).then(function(a){f.style.setProperty("background",a,f.style.getPropertyPriority("background"))}).then(function(){return f}):Promise.resolve(f)}}}})(G)});var _=pe(W()),ye=document.querySelectorAll(".js-backgroundPicker"),we=document.querySelector(".js-backgroundPickerHex"),Pe=document.querySelector(".js-iconPickerHex"),be=document.querySelectorAll(".js-colorPicker"),z=document.querySelectorAll(".js-icon"),F=document.querySelector(".preview"),R=document.querySelector(".js-iconOutput"),Ee=document.querySelector(".js-save"),Ae=document.querySelector(".js-iconSearch"),T={icon:"fa-duotone-lemon",background:"transparent",iconColor:"#ffcd74"};q();ye.forEach(o=>{o.addEventListener("click",function(e){e.preventDefault(),K(o.dataset.color)})});we.addEventListener("input",function(o){K(`${o.target.value}`)},!1);Pe.addEventListener("input",function(o){Q(`${o.target.value}`)},!1);be.forEach(o=>{o.addEventListener("click",function(e){e.preventDefault(),Q(o.dataset.color)})});z.forEach(o=>{o.addEventListener("click",function(e){e.preventDefault(),Ce(o.dataset.icon)})});var J=0;Ee.addEventListener("click",function(o){o.preventDefault(),_.default.toPng(R).then(function(e){var m=document.createElement("a");m.download=`icon-${J}.png`,m.href=e,m.click()}),J++});Ae.addEventListener("keyup",function(o){let e=o.target.value;console.log(e),z.forEach(m=>{m.dataset.name.includes(e)?m.style.display="block":m.style.display="none"})});function K(o){var e=document.querySelector(".js-bgCol");e.value=o.toLowerCase(),T.background=o,q()}function Q(o){var e=document.querySelector(".js-iconCol");e.value=o.toLowerCase(),T.iconColor=o,q()}function Ce(o){T.icon=o,q()}function q(){let o=document.getElementById(T.icon).outerHTML.replaceAll("symbol","svg");R.innerHTML=o,F.innerHTML=o,F.style.backgroundColor=T.background==="transparent"?"var(--iconCircleDefault)":T.background,R.style.backgroundColor=T.background;let e=F.querySelector("svg"),m=R.querySelector("svg");e.style.fill=T.iconColor,m.style.fill=T.iconColor}})();
