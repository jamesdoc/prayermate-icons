(()=>{var le=Object.create;var $=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var fe=Object.getOwnPropertyNames;var he=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty;var me=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports);var ge=(a,e,m,D)=>{if(e&&typeof e=="object"||typeof e=="function")for(let C of fe(e))!de.call(a,C)&&C!==m&&$(a,C,{get:()=>e[C],enumerable:!(D=se(e,C))||D.enumerable});return a};var pe=(a,e,m)=>(m=a!=null?le(he(a)):{},ge(e||!a||!a.__esModule?$(m,"default",{value:a,enumerable:!0}):m,a));var G=me((X,q)=>{(function(a){"use strict";var e=ie(),m=ae(),D=ce(),C=ue(),V={imagePlaceholder:void 0,cacheBust:!1},x={toSvg:N,toPng:Y,toJpeg:Z,toBlob:ee,toPixelData:Q,impl:{fontFaces:D,images:C,util:e,inliner:m,options:{}}};typeof q<"u"?q.exports=x:a.domtoimage=x;function N(r,n){return n=n||{},te(n),Promise.resolve(r).then(function(c){return O(c,n.filter,!0)}).then(ne).then(re).then(o).then(function(c){return oe(c,n.width||e.width(r),n.height||e.height(r))});function o(c){return n.bgcolor&&(c.style.backgroundColor=n.bgcolor),n.width&&(c.style.width=n.width+"px"),n.height&&(c.style.height=n.height+"px"),n.style&&Object.keys(n.style).forEach(function(f){c.style[f]=n.style[f]}),c}}function Q(r,n){return R(r,n||{}).then(function(o){return o.getContext("2d").getImageData(0,0,e.width(r),e.height(r)).data})}function Y(r,n){return R(r,n||{}).then(function(o){return o.toDataURL()})}function Z(r,n){return n=n||{},R(r,n).then(function(o){return o.toDataURL("image/jpeg",n.quality||1)})}function ee(r,n){return R(r,n||{}).then(e.canvasToBlob)}function te(r){typeof r.imagePlaceholder>"u"?x.impl.options.imagePlaceholder=V.imagePlaceholder:x.impl.options.imagePlaceholder=r.imagePlaceholder,typeof r.cacheBust>"u"?x.impl.options.cacheBust=V.cacheBust:x.impl.options.cacheBust=r.cacheBust}function R(r,n){return N(r,n).then(e.makeImage).then(e.delay(100)).then(function(c){var f=o(r);return f.getContext("2d").drawImage(c,0,0),f});function o(c){var f=document.createElement("canvas");if(f.width=n.width||e.width(c),f.height=n.height||e.height(c),n.bgcolor){var s=f.getContext("2d");s.fillStyle=n.bgcolor,s.fillRect(0,0,f.width,f.height)}return f}}function O(r,n,o){if(!o&&n&&!n(r))return Promise.resolve();return Promise.resolve(r).then(c).then(function(i){return f(r,i,n)}).then(function(i){return s(r,i)});function c(i){return i instanceof HTMLCanvasElement?e.makeImage(i.toDataURL()):i.cloneNode(!1)}function f(i,u,y){var E=i.childNodes;if(E.length===0)return Promise.resolve(u);return g(u,e.asArray(E),y).then(function(){return u});function g(L,w,p){var P=Promise.resolve();return w.forEach(function(U){P=P.then(function(){return O(U,p)}).then(function(b){b&&L.appendChild(b)})}),P}}function s(i,u){if(!(u instanceof Element))return u;return Promise.resolve().then(y).then(E).then(g).then(L).then(function(){return u});function y(){w(window.getComputedStyle(i),u.style);function w(p,P){p.cssText?P.cssText=p.cssText:U(p,P);function U(b,S){e.asArray(b).forEach(function(t){S.setProperty(t,b.getPropertyValue(t),b.getPropertyPriority(t))})}}}function E(){[":before",":after"].forEach(function(p){w(p)});function w(p){var P=window.getComputedStyle(i,p),U=P.getPropertyValue("content");if(U===""||U==="none")return;var b=e.uid();u.className=u.className+" "+b;var S=document.createElement("style");S.appendChild(t(b,p,P)),u.appendChild(S);function t(l,d,h){var v="."+l+":"+d,A=h.cssText?H(h):M(h);return document.createTextNode(v+"{"+A+"}");function H(k){var T=k.getPropertyValue("content");return k.cssText+" content: "+T+";"}function M(k){return e.asArray(k).map(T).join("; ")+";";function T(B){return B+": "+k.getPropertyValue(B)+(k.getPropertyPriority(B)?" !important":"")}}}}}function g(){i instanceof HTMLTextAreaElement&&(u.innerHTML=i.value),i instanceof HTMLInputElement&&u.setAttribute("value",i.value)}function L(){u instanceof SVGElement&&(u.setAttribute("xmlns","http://www.w3.org/2000/svg"),u instanceof SVGRectElement&&["width","height"].forEach(function(w){var p=u.getAttribute(w);p&&u.style.setProperty(w,p)}))}}}function ne(r){return D.resolveAll().then(function(n){var o=document.createElement("style");return r.appendChild(o),o.appendChild(document.createTextNode(n)),r})}function re(r){return C.inlineAll(r).then(function(){return r})}function oe(r,n,o){return Promise.resolve(r).then(function(c){return c.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(c)}).then(e.escapeXhtml).then(function(c){return'<foreignObject x="0" y="0" width="100%" height="100%">'+c+"</foreignObject>"}).then(function(c){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+n+'" height="'+o+'">'+c+"</svg>"}).then(function(c){return"data:image/svg+xml;charset=utf-8,"+c})}function ie(){return{escape:L,parseExtension:n,mimeType:o,dataAsUrl:g,isDataUrl:c,canvasToBlob:s,resolveUrl:i,getAndEncode:E,uid:u(),delay:w,asArray:p,escapeXhtml:P,makeImage:y,width:U,height:b};function r(){var t="application/font-woff",l="image/jpeg";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:l,jpeg:l,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function n(t){var l=/\.([^\.\/]*?)$/g.exec(t);return l?l[1]:""}function o(t){var l=n(t).toLowerCase();return r()[l]||""}function c(t){return t.search(/^(data:)/)!==-1}function f(t){return new Promise(function(l){for(var d=window.atob(t.toDataURL().split(",")[1]),h=d.length,v=new Uint8Array(h),A=0;A<h;A++)v[A]=d.charCodeAt(A);l(new Blob([v],{type:"image/png"}))})}function s(t){return t.toBlob?new Promise(function(l){t.toBlob(l)}):f(t)}function i(t,l){var d=document.implementation.createHTMLDocument(),h=d.createElement("base");d.head.appendChild(h);var v=d.createElement("a");return d.body.appendChild(v),h.href=l,v.href=t,v.href}function u(){var t=0;return function(){return"u"+l()+t++;function l(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function y(t){return new Promise(function(l,d){var h=new Image;h.onload=function(){l(h)},h.onerror=d,h.src=t})}function E(t){var l=3e4;return x.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime()),new Promise(function(d){var h=new XMLHttpRequest;h.onreadystatechange=H,h.ontimeout=M,h.responseType="blob",h.timeout=l,h.open("GET",t,!0),h.send();var v;if(x.impl.options.imagePlaceholder){var A=x.impl.options.imagePlaceholder.split(/,/);A&&A[1]&&(v=A[1])}function H(){if(h.readyState===4){if(h.status!==200){v?d(v):k("cannot fetch resource: "+t+", status: "+h.status);return}var T=new FileReader;T.onloadend=function(){var B=T.result.split(/,/)[1];d(B)},T.readAsDataURL(h.response)}}function M(){v?d(v):k("timeout of "+l+"ms occured while fetching resource: "+t)}function k(T){console.error(T),d("")}})}function g(t,l){return"data:"+l+";base64,"+t}function L(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function w(t){return function(l){return new Promise(function(d){setTimeout(function(){d(l)},t)})}}function p(t){for(var l=[],d=t.length,h=0;h<d;h++)l.push(t[h]);return l}function P(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")}function U(t){var l=S(t,"border-left-width"),d=S(t,"border-right-width");return t.scrollWidth+l+d}function b(t){var l=S(t,"border-top-width"),d=S(t,"border-bottom-width");return t.scrollHeight+l+d}function S(t,l){var d=window.getComputedStyle(t).getPropertyValue(l);return parseFloat(d.replace("px",""))}}function ae(){var r=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:f,shouldProcess:n,impl:{readUrls:o,inline:c}};function n(s){return s.search(r)!==-1}function o(s){for(var i=[],u;(u=r.exec(s))!==null;)i.push(u[1]);return i.filter(function(y){return!e.isDataUrl(y)})}function c(s,i,u,y){return Promise.resolve(i).then(function(g){return u?e.resolveUrl(g,u):g}).then(y||e.getAndEncode).then(function(g){return e.dataAsUrl(g,e.mimeType(i))}).then(function(g){return s.replace(E(i),"$1"+g+"$3")});function E(g){return new RegExp(`(url\\(['"]?)(`+e.escape(g)+`)(['"]?\\))`,"g")}}function f(s,i,u){if(y())return Promise.resolve(s);return Promise.resolve(s).then(o).then(function(E){var g=Promise.resolve(s);return E.forEach(function(L){g=g.then(function(w){return c(w,L,i,u)})}),g});function y(){return!n(s)}}}function ce(){return{resolveAll:r,impl:{readAll:n}};function r(){return n(document).then(function(o){return Promise.all(o.map(function(c){return c.resolve()}))}).then(function(o){return o.join(`
`)})}function n(){return Promise.resolve(e.asArray(document.styleSheets)).then(c).then(o).then(function(s){return s.map(f)});function o(s){return s.filter(function(i){return i.type===CSSRule.FONT_FACE_RULE}).filter(function(i){return m.shouldProcess(i.style.getPropertyValue("src"))})}function c(s){var i=[];return s.forEach(function(u){try{e.asArray(u.cssRules||[]).forEach(i.push.bind(i))}catch(y){console.log("Error while reading CSS rules from "+u.href,y.toString())}}),i}function f(s){return{resolve:function(){var u=(s.parentStyleSheet||{}).href;return m.inlineAll(s.cssText,u)},src:function(){return s.style.getPropertyValue("src")}}}}}function ue(){return{inlineAll:n,impl:{newImage:r}};function r(o){return{inline:c};function c(f){return e.isDataUrl(o.src)?Promise.resolve():Promise.resolve(o.src).then(f||e.getAndEncode).then(function(s){return e.dataAsUrl(s,e.mimeType(o.src))}).then(function(s){return new Promise(function(i,u){o.onload=i,o.onerror=u,o.src=s})})}}function n(o){if(!(o instanceof Element))return Promise.resolve(o);return c(o).then(function(){return o instanceof HTMLImageElement?r(o).inline():Promise.all(e.asArray(o.childNodes).map(function(f){return n(f)}))});function c(f){var s=f.style.getPropertyValue("background");return s?m.inlineAll(s).then(function(i){f.style.setProperty("background",i,f.style.getPropertyPriority("background"))}).then(function(){return f}):Promise.resolve(f)}}}})(X)});var J=pe(G()),ve=document.querySelectorAll(".js-backgroundPicker"),ye=document.querySelector(".js-backgroundPickerHex"),we=document.querySelector(".js-iconPickerHex"),Pe=document.querySelectorAll(".js-colorPicker"),_=document.querySelectorAll(".js-icon"),F=document.querySelector(".preview"),be=document.querySelector(".js-save"),Ee=document.querySelector(".js-iconSearch"),W=0,I={icon:"fa-duotone-lemon",background:"transparent",iconColor:"#ffcd74"};j();ve.forEach(a=>{a.addEventListener("click",function(e){e.preventDefault(),z(a.dataset.color)})});ye.addEventListener("input",function(a){z(`${a.target.value}`)},!1);we.addEventListener("input",function(a){K(`${a.target.value}`)},!1);Pe.forEach(a=>{a.addEventListener("click",function(e){e.preventDefault(),K(a.dataset.color)})});_.forEach(a=>{a.addEventListener("click",function(e){e.preventDefault(),Ae(a.dataset.icon)})});be.addEventListener("click",function(a){a.preventDefault(),J.default.toPng(F).then(function(e){var m=document.createElement("a");m.download=`icon-${W}.png`,m.href=e,m.click()}),W++});Ee.addEventListener("keyup",function(a){let e=a.target.value;console.log(e),_.forEach(m=>{m.dataset.name.includes(e)?m.style.display="block":m.style.display="none"})});function z(a){I.background=a,j()}function K(a){I.iconColor=a,j()}function Ae(a){I.icon=a,j()}function j(){let a=document.getElementById(I.icon).outerHTML.replaceAll("symbol","svg");F.innerHTML=a,F.style.backgroundColor=I.background;let e=document.querySelector(".preview svg");e.style.fill=I.iconColor}})();
